<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>استخدام API لجمع رقمين</title>
</head>
<body>
    <h1>جمع رقمين باستخدام API</h1>
    <input type="number" id="num1" placeholder="أدخل الرقم الأول">
    <input type="number" id="num2" placeholder="أدخل الرقم الثاني">
    <button onclick="fetchSum()">اجمع</button>
    <p id="result"></p>

    <script>
        let sum = 0;

        function fetchSum() {
            const num1 = document.getElementById('num1').value;
            const num2 = document.getElementById('num2').value;
            
            // استدعاء الـAPI باستخدام Fetch
            const apiUrl = `http://127.0.0.1:5500/api.html?num1=${num1}&num2=${num2}`;

            let iframe = document.createElement("iframe");
            iframe.src = apiUrl;
            iframe.style.display = "none";
            document.body.appendChild(iframe);
            
            iframe.addEventListener('load', function() {
                sum = JSON.parse(iframe.contentDocument.body.innerHTML).sum;  // جرب استخدام contentDocument بدلاً من innerHTML مباشرة
                document.getElementById('result').innerHTML = sum;
                iframe.remove();
            });
        }
    </script>
</body>
</html>